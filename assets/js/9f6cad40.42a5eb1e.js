"use strict";(self.webpackChunkch_blog=self.webpackChunkch_blog||[]).push([[912],{1931:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>g,frontMatter:()=>d,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"python_gui/\u57fa\u4e8e\u9879\u7684\u63a7\u4ef6","title":"\u57fa\u4e8e\u9879\u7684\u63a7\u4ef6","description":"\u3010\u5b9e\u4f8b1-1\u3011 \u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\uff0c\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef6\u3002\u8981\u6c42\u5728\u5217\u8868\u63a7\u4ef6\u4e2d\u663e\u793a\u9879\uff0c\u8bbe\u7f6e\u80cc\u666f\u8272\uff0c","source":"@site/docs/python_gui/\u57fa\u4e8e\u9879\u7684\u63a7\u4ef6.md","sourceDirName":"python_gui","slug":"/python_gui/\u57fa\u4e8e\u9879\u7684\u63a7\u4ef6","permalink":"/docs/python_gui/\u57fa\u4e8e\u9879\u7684\u63a7\u4ef6","draft":false,"unlisted":false,"editUrl":"https://github.com/haochan1996/haochan1996.github.io/tree/main/docs/python_gui/\u57fa\u4e8e\u9879\u7684\u63a7\u4ef6.md","tags":[],"version":"current","frontMatter":{"siderbar":1},"sidebar":"tutorialSidebar","previous":{"title":"PySide6\u8fdb\u884cGUI\u7f16\u7a0b","permalink":"/docs/category/pyside6\u8fdb\u884cgui\u7f16\u7a0b"},"next":{"title":"auto.js\u4f7f\u7528","permalink":"/docs/category/autojs\u4f7f\u7528"}}');var o=n(4848),s=n(8453);const d={siderbar:1},l=void 0,a={},r=[{value:"\u3010\u5b9e\u4f8b1-1\u3011 \u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\uff0c\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef6\u3002\u8981\u6c42\u5728\u5217\u8868\u63a7\u4ef6\u4e2d\u663e\u793a\u9879\uff0c\u8bbe\u7f6e\u80cc\u666f\u8272\uff0c",id:"\u5b9e\u4f8b1-1-\u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef6\u8981\u6c42\u5728\u5217\u8868\u63a7\u4ef6\u4e2d\u663e\u793a\u9879\u8bbe\u7f6e\u80cc\u666f\u8272",level:2},{value:"\u3010\u5b9e\u4f8b1-2\u3011 \u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\uff0c\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef6\u30014\u4e2a\u6309\u94ae\u63a7\u4ef6\u3002\u8fd94\u4e2a\u6309\u94ae\u5206\u522b\u5b9e\u73b0\u6dfb\u52a0\u9879\u3001\u7f16\u8f91\u9879\u3001\u5220\u9664\u9879\u3001\u6392\u5e8f\u7684\u4f5c\u7528\u3002",id:"\u5b9e\u4f8b1-2-\u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef64\u4e2a\u6309\u94ae\u63a7\u4ef6\u8fd94\u4e2a\u6309\u94ae\u5206\u522b\u5b9e\u73b0\u6dfb\u52a0\u9879\u7f16\u8f91\u9879\u5220\u9664\u9879\u6392\u5e8f\u7684\u4f5c\u7528",level:2},{value:"\u3010\u5b9e\u4f8b1-3\u3011 \u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\uff0c\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef6\u3002\u5728\u5217\u8868\u63a7\u4ef6\u4e2d\u53f3\u51fb\u4f1a\u5f39\u51fa\u4e0a\u4e0b\u6587\u83dc\u5355\uff0c\u83dc\u5355\u547d\u4ee4\u5305\u542b\u6dfb\u52a0\u3001\u7f16\u8f91\u3001\u5220\u9664\u3001\u5168\u9009\u3001\u53cd\u9009\u3001\u5168\u4e0d\u9009\u3002",id:"\u5b9e\u4f8b1-3-\u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef6\u5728\u5217\u8868\u63a7\u4ef6\u4e2d\u53f3\u51fb\u4f1a\u5f39\u51fa\u4e0a\u4e0b\u6587\u83dc\u5355\u83dc\u5355\u547d\u4ee4\u5305\u542b\u6dfb\u52a0\u7f16\u8f91\u5220\u9664\u5168\u9009\u53cd\u9009\u5168\u4e0d\u9009",level:2}];function c(e){const t={code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"\u5b9e\u4f8b1-1-\u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef6\u8981\u6c42\u5728\u5217\u8868\u63a7\u4ef6\u4e2d\u663e\u793a\u9879\u8bbe\u7f6e\u80cc\u666f\u8272",children:"\u3010\u5b9e\u4f8b1-1\u3011 \u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\uff0c\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef6\u3002\u8981\u6c42\u5728\u5217\u8868\u63a7\u4ef6\u4e2d\u663e\u793a\u9879\uff0c\u8bbe\u7f6e\u80cc\u666f\u8272\uff0c"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://blog-1301697820.cos.ap-guangzhou.myqcloud.com/blog/image-20250414212651864.png",alt:"image-20250414212651864"})}),"\n",(0,o.jsx)(t.p,{children:"\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:'import sys\nfrom PySide6.QtGui import QFont\nfrom PySide6.QtWidgets import (\n    QApplication,\n    QWidget,\n    QVBoxLayout,\n    QListWidget,\n    QPushButton,\n    QHBoxLayout,\n    QInputDialog,\n    QLineEdit,\n    QMessageBox,\n)\n\n\nclass Window(QWidget):\n    def __init__(self):\n        super().__init__()\n        self.setGeometry(200, 200, 560, 260)\n        self.setWindowTitle("QListWidget")\n        \n        # \u521b\u5efa\u5782\u76f4\u5e03\u5c40\u5e76\u8bbe\u7f6e\u4e3a\u5f53\u524d\u63a7\u4ef6\u7684\u5e03\u5c40\u65b9\u5f0f\n        vbox = QVBoxLayout()\n        self.setLayout(vbox)\n\n        # \u521b\u5efa\u5217\u8868\u63a7\u4ef6\n        self.listwidget = QListWidget()\n        self.listwidget.setFont(QFont("\u9ed1\u4f53", 14))\n        self.listwidget.setStyleSheet("background-color:yellowgreen")\n        # \u6dfb\u52a0\u5230\u5e03\u5c40\u63a7\u4ef6\u4e2d\n        vbox.addWidget(self.listwidget)\n        \n        # \u63d2\u5165\u9879\n        self.listwidget.insertItem(0, "python")\n        self.listwidget.insertItem(1, "go")\n        self.listwidget.insertItem(2, "c++")\n\n\nif __name__ == "__main__":\n    app = QApplication(sys.argv)\n    win = Window()\n    win.show()\n    sys.exit(app.exec())\n'})}),"\n",(0,o.jsx)(t.h2,{id:"\u5b9e\u4f8b1-2-\u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef64\u4e2a\u6309\u94ae\u63a7\u4ef6\u8fd94\u4e2a\u6309\u94ae\u5206\u522b\u5b9e\u73b0\u6dfb\u52a0\u9879\u7f16\u8f91\u9879\u5220\u9664\u9879\u6392\u5e8f\u7684\u4f5c\u7528",children:"\u3010\u5b9e\u4f8b1-2\u3011 \u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\uff0c\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef6\u30014\u4e2a\u6309\u94ae\u63a7\u4ef6\u3002\u8fd94\u4e2a\u6309\u94ae\u5206\u522b\u5b9e\u73b0\u6dfb\u52a0\u9879\u3001\u7f16\u8f91\u9879\u3001\u5220\u9664\u9879\u3001\u6392\u5e8f\u7684\u4f5c\u7528\u3002"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://blog-1301697820.cos.ap-guangzhou.myqcloud.com/blog/image-20250414213634547.png",alt:"image-20250414213634547"})}),"\n",(0,o.jsx)(t.p,{children:"\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:'import sys\nfrom PySide6.QtGui import QFont\nfrom PySide6.QtWidgets import (\n    QApplication,\n    QWidget,\n    QVBoxLayout,\n    QListWidget,\n    QPushButton,\n    QHBoxLayout,\n    QInputDialog,\n    QLineEdit,\n    QMessageBox,\n)\n\nclass Window(QWidget):\n    def __init__(self):\n        super().__init__()\n        self.setGeometry(200, 200, 560, 260)\n        self.setWindowTitle("QListWidget QListWidgetItem")\n\n        vbox = QVBoxLayout()\n        self.setLayout(vbox)\n        # \u521b\u5efa4\u4e2a\u6309\u94ae\n        btn_add = QPushButton("\u6dfb\u52a0")\n        btn_edit = QPushButton("\u7f16\u8f91")\n        btn_remove = QPushButton("\u5220\u9664")\n        btn_sort = QPushButton("\u6392\u5e8f")\n\n        hbox = QHBoxLayout()\n        hbox.addWidget(btn_add)\n        hbox.addWidget(btn_edit)\n        hbox.addWidget(btn_remove)\n        hbox.addWidget(btn_sort)\n        vbox.addLayout(hbox)\n        # \u4f7f\u7528\u4fe1\u53f7/\u69fd\n        btn_add.clicked.connect(self.add_item)\n        btn_edit.clicked.connect(self.edit_item)\n        btn_remove.clicked.connect(self.remove_item)\n        btn_sort.clicked.connect(self.sort_item)\n        hbox.addWidget(btn_add)\n        hbox.addWidget(btn_edit)\n        hbox.addWidget(btn_remove)\n        hbox.addWidget(btn_sort)\n\n        # \u521b\u5efa\u5217\u8868\u63a7\u4ef6\n        self.listwidget = QListWidget()\n        self.listwidget.setFont(QFont("\u9ed1\u4f53", 14))\n        vbox.addWidget(self.listwidget)\n\n    def add_item(self):\n        row = self.listwidget.currentRow()\n        title = "\u6dfb\u52a0\u9879"\n        data, ok = QInputDialog.getText(self, title, title)  # \u5f39\u51fa\u5bf9\u8bdd\u6846\n        if ok and data is not None:\n            self.listwidget.insertItem(row, data)\n\n    def edit_item(self):\n        item = self.listwidget.currentItem()\n        if item is not None:\n            title = "\u7f16\u8f91\u9879"\n            data, ok = QInputDialog.getText(\n                self, title, title, QLineEdit.EchoMode.Normal, item.text()\n            )\n            if ok and data is not None:\n                item.setText(data)\n\n    def remove_item(self):\n        row = self.listwidget.currentRow()\n        item = self.listwidget.item(row)\n        if item == None:\n            return\n        title1 = "\u5220\u9664\u9879"\n        title2 = "\u786e\u5b9a\u8981\u5220\u9664\uff1f"\n        reply = QMessageBox.question(\n            self, title1, title2, QMessageBox.Yes | QMessageBox.No\n        )\n        if reply == QMessageBox.Yes:\n            self.listwidget.takeItem(row)\n\n    def sort_item(self):\n        self.listwidget.sortItems()\n\n\nif __name__ == "__main__":\n    app = QApplication(sys.argv)\n    win = Window()\n    win.show()\n    sys.exit(app.exec())\n\n'})}),"\n",(0,o.jsx)(t.h2,{id:"\u5b9e\u4f8b1-3-\u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef6\u5728\u5217\u8868\u63a7\u4ef6\u4e2d\u53f3\u51fb\u4f1a\u5f39\u51fa\u4e0a\u4e0b\u6587\u83dc\u5355\u83dc\u5355\u547d\u4ee4\u5305\u542b\u6dfb\u52a0\u7f16\u8f91\u5220\u9664\u5168\u9009\u53cd\u9009\u5168\u4e0d\u9009",children:"\u3010\u5b9e\u4f8b1-3\u3011 \u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\uff0c\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef6\u3002\u5728\u5217\u8868\u63a7\u4ef6\u4e2d\u53f3\u51fb\u4f1a\u5f39\u51fa\u4e0a\u4e0b\u6587\u83dc\u5355\uff0c\u83dc\u5355\u547d\u4ee4\u5305\u542b\u6dfb\u52a0\u3001\u7f16\u8f91\u3001\u5220\u9664\u3001\u5168\u9009\u3001\u53cd\u9009\u3001\u5168\u4e0d\u9009\u3002"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:"https://blog-1301697820.cos.ap-guangzhou.myqcloud.com/blog/listwidget.gif",alt:"listwidget"})}),"\n",(0,o.jsx)(t.p,{children:"\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:'"""\n\u521b\u5efa\u4e00\u4e2a\u7a97\u53e3\uff0c\u8be5\u7a97\u53e3\u5305\u542b\u4e00\u4e2a\u5217\u8868\u63a7\u4ef6\u3002\u5728\u5217\u8868\u63a7\u4ef6\u4e2d\u53f3\u51fb\u4f1a\u5f39\u51fa\u4e0a\u4e0b\u6587\u83dc\u5355\uff0c\u83dc\u5355\u547d\u4ee4\u5305\u542b\u6dfb\u52a0\u3001\u7f16\u8f91\u3001\u5220\u9664\u3001\u5168\u9009\u3001\u53cd\u9009\u3001\u5168\u4e0d\u9009\n"""\n\nimport sys\nfrom PySide6.QtGui import QFont\nfrom PySide6.QtWidgets import (\n    QApplication,\n    QWidget,\n    QVBoxLayout,\n    QListWidget,\n    QPushButton,\n    QHBoxLayout,\n    QInputDialog,\n    QLineEdit,\n    QMessageBox,\n    QMenu,\n)\nfrom PySide6.QtCore import Qt\n\n\nclass Window(QWidget):\n    def __init__(self):\n        super().__init__()\n        self.setGeometry(200, 200, 560, 260)\n        self.setWindowTitle("QListWidget QListWidgetItem")\n\n        vbox = QVBoxLayout()\n        self.setLayout(vbox)\n\n        # \u521b\u5efa\u5217\u8868\u63a7\u4ef6\n        self.listwidget = QListWidget()\n        self.listwidget.setFont(QFont("\u9ed1\u4f53", 14))\n        vbox.addWidget(self.listwidget)\n\n    def contextMenuEvent(self, event):\n        """\u5728PyQt\u4e2d\uff0ccontextMenuEvent\u7528\u4e8e\u5904\u7406\u53f3\u952e\u83dc\u5355\u4e8b\u4ef6\uff0c\u5f53\u7528\u6237\u53f3\u51fb\u90e8\u4ef6\u65f6\u4f1a\u89e6\u53d1\u3002"""\n        contextMenu = QMenu(self)\n        contextMenu.addAction("\u6dfb\u52a0").triggered.connect(self.add_item)\n        contextMenu.addAction("\u7f16\u8f91").triggered.connect(self.edit_item)\n        contextMenu.addAction("\u5220\u9664").triggered.connect(self.remove_item)\n        contextMenu.addSeparator()  # \u6dfb\u52a0\u5206\u5272\u7ebf\n        contextMenu.addAction("\u5168\u9009").triggered.connect(self.select_all)\n        contextMenu.addAction("\u53cd\u9009").triggered.connect(self.inverse_select)\n        contextMenu.addAction("\u5168\u4e0d\u9009").triggered.connect(self.select_none)\n        contextMenu.exec(event.globalPos())\n\n    def add_item(self):\n        """\u63d2\u5165\u65b0\u9879"""\n        row = self.listwidget.currentRow()  # \u83b7\u53d6\u5f53\u524d\u9009\u4e2d\u9879\u7684index\n        print(row)\n        title = "\u6dfb\u52a0\u9879"\n        data, ok = QInputDialog.getText(self, title, title)\n        if ok and data is not None:\n            self.listwidget.insertItem(row, data)\n\n    def edit_item(self):\n        """\u7f16\u8f91\u9879"""\n        item = self.listwidget.currentItem()\n        if item is not None:\n            title = "\u7f16\u8f91\u9879"\n            data, ok = QInputDialog.getText(\n                self, title, title, QLineEdit.EchoMode.Normal, item.text()\n            )\n            if ok and data is not None:\n                item.setText(data)\n\n    def remove_item(self):\n        """\u5220\u9664\u9879"""\n        row = self.listwidget.currentRow()\n        item = self.listwidget.item(row)\n        if item == None:\n            return\n        title1 = "\u5220\u9664\u9879"\n        title2 = "\u786e\u5b9a\u8981\u5220\u9664\uff1f"\n        reply = QMessageBox.question(\n            self, title1, title2, QMessageBox.Yes | QMessageBox.No\n        )\n        if reply == QMessageBox.Yes:\n            self.listwidget.takeItem(row)\n\n    def select_all(self):\n        """\u9009\u62e9\u6240\u6709\u9879"""\n        count = self.listwidget.count()\n        for i in range(count):\n            item = self.listwidget.item(i)\n            item.setCheckState(Qt.Checked)\n\n    def inverse_select(self):\n        """\u53cd\u9009"""\n        count = self.listwidget.count()\n        for i in range(count):\n            item = self.listwidget.item(i)\n            if item.checkState() == Qt.Unchecked:\n                item.setCheckState(Qt.Checked)\n            else:\n                item.setCheckState(Qt.Unchecked)\n\n    def select_none(self):\n        """\u5168\u4e0d\u9009"""\n        count = self.listwidget.count()\n        for i in range(count):\n            item = self.listwidget.item(i)\n            item.setCheckState(Qt.Unchecked)\n\n\nif __name__ == "__main__":\n    app = QApplication(sys.argv)\n    win = Window()\n    win.show()\n    sys.exit(app.exec())\n\n'})})]})}function g(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>d,x:()=>l});var i=n(6540);const o={},s=i.createContext(o);function d(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);